{
    // Usare IntelliSense per informazioni sui possibili attributi.
    // Al passaggio del mouse vengono visualizzate le descrizioni degli attributi esistenti.
    // Per altre informazioni, visitare: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Dataset EPIC-Kitchens",
            "type": "debugpy",
            "request": "launch",
            "program": "src/main.py",
            "console": "integratedTerminal"
        },
        {
            "name": "WEAR SSL",
            "type": "debugpy",
            "request": "launch",
            "program": "src/wear_ssl.py",
            "console": "integratedTerminal"
        },
        {
            "name": "compute mean and std",
            "type": "debugpy",
            "request": "launch",
            "args": [
                "--dataset", "wear",
                "--config", "./configs/IMU-MAE/wear_inertial_ft.yaml",
                "--save_path", "./data/WEAR/mean_std",
                "--split_file", "wear_split_1.pkl",
            ],
            "program": "src/compute_mean_std.py",
            "console": "integratedTerminal"
        },
        {
            "name": "AudioMAE pretraining on WEAR",
            "type": "debugpy",
            "request": "launch",
            "args": [
                "--model", "mae_vit_large_patch16",
                "--epochs", "60", 
                "--blr", "2e-4", 
                "--batch_size", "16", 
                "--warmup_epochs",  "3",
                "--mask_ratio", "0.8",
                "--dataset", "wear",
                "--config", "./configs/IMU-MAE/spectrograms_wear.yaml",
                "--seconds", "2",
                "--matrix_type", "128x320",
                "--filename_split", "wear_split_1.pkl",
                "--device", "cuda:1",
            ],
            "program": "src/audiomae_pretrain.py",
            "console": "integratedTerminal"
        },
        {
            "name": "AudioMAE pretraining on EgoExo4D",
            "type": "debugpy",
            "request": "launch",
            "args": [
                "--model", "mae_vit_small_patch16",
                "--epochs", "32", 
                "--blr", "2e-4", 
                "--batch_size", "128", 
                "--warmup_epochs",  "3",
                "--mask_ratio", "0.8",
                "--dataset", "egoexo4d",
                "--config", "./configs/IMU-MAE/egoexo4d_accl_omni.yaml",
                "--seconds", "2",
                "--matrix_type", "128x320",
                "--pin_mem",
                "--device", "cuda:1",
            ],
            "program": "src/audiomae_pretrain.py",
            "console": "integratedTerminal"
        },
        {
            "name": "accelerate pt - Audio-MAE",
            "type": "debugpy",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "src/dist_pretrain_accelerate.py",
                "--model", "mae_vit_small_patch16",
                "--epochs", "1", 
                "--blr", "2e-4", 
                "--batch_size", "16", 
                "--warmup_epochs",  "3",
                "--mask_ratio", "0.8",
                "--dataset", "egoexo4d",
                // "--dataset", "wear_ssl",
                "--config", "./configs/IMU-MAE/egoexo4d_accl.yaml",
                // "--config", "./configs/IMU-MAE/spectrograms_wear.yaml",
                "--seconds", "2",
                "--matrix_type", "128x320",
                "--pin_mem",
                "--device", "cuda:1",
                "--log_dir", "./output_dir",
                "--nodes", "1",
                "--gpus_per_node", "2",
            ],
            "console": "integratedTerminal"
        },
        {
            "name": "accelerate pt w/ OMNI - Audio-MAE",
            "type": "debugpy",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "src/dist_pretrain_accelerate.py",
                "--model", "mae_vit_base_patch16",
                "--epochs", "1", 
                "--blr", "2e-4", 
                "--batch_size", "128", 
                "--warmup_epochs",  "3",
                "--mask_ratio", "0.8",
                "--dataset", "egoexo4d",
                // "--dataset", "wear_ssl",
                "--config", "./configs/IMU-MAE/egoexo4d_accl_omni_pt.yaml",
                // "--config", "./configs/IMU-MAE/spectrograms_wear.yaml",
                "--seconds", "2",
                "--matrix_type", "128x320",
                "--pin_mem",
                "--device", "cuda:1",
                "--log_dir", "./output_dir",
                "--nodes", "1",
                "--gpus_per_node", "2",
            ],
            "console": "integratedTerminal"
        },
        {
            "name": "accelerate visualization - Audio-MAE",
            "type": "debugpy",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "src/dist_pretrain_accelerate.py",
                "--model", "mae_vit_base_patch16",
                "--epochs", "1", 
                "--blr", "2e-4", 
                "--batch_size", "128", 
                "--warmup_epochs",  "3",
                "--mask_ratio", "0.8",
                "--dataset", "egoexo4d",
                // "--dataset", "wear_ssl",
                "--config", "./configs/IMU-MAE/egoexo4d_accl_visualization.yaml",
                // "--config", "./configs/IMU-MAE/spectrograms_wear.yaml",
                "--seconds", "2",
                "--matrix_type", "128x320",
                "--pin_mem",
                "--device", "cuda:1",
                "--log_dir", "./output_dir",
                "--nodes", "1",
                "--gpus_per_node", "2"
            ],
            "console": "integratedTerminal"
        },
        {
            "name": "accelerate ft - Audio-MAE",
            "type": "debugpy",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "src/dist_ft_accelerate.py",
                "--model", "vit_base_patch16",
                "--epochs", "1", 
                "--blr", "2e-4", 
                "--batch_size", "128", 
                "--warmup_epochs",  "4",
                // "--mask_2d", "True",
                "--mask_t_prob", "0.2",
                // "--mask_f_prob", "0.2",
                "--mixup", "0.0",
                "--dataset", "egoexo4d",
                // "--dataset", "wear_ssl",
                "--config", "./configs/IMU-MAE/egoexo4d_accl_ft.yaml",
                "--finetune","./reports/experiments/audio_mae/128x320/egoexo4d/pretrain/mask_ratio{0.8}_mae_vit_base_patch16/accelerator_state",
                // "--config", "./configs/IMU-MAE/spectrograms_wear.yaml",
                "--seconds", "2",
                "--matrix_type", "128x320",
                "--pin_mem",
                "--device", "cuda:1",
                "--log_dir", "./output_dir",
                "--nodes", "1",
                "--gpus_per_node", "2"

            ],
            "console": "integratedTerminal"
        },
        {
            "name": "accelerate ft omni imu - EgoExo4D",
            "type": "debugpy",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "src/dist_ft_accelerate.py",
                "--model", "vit_base_patch16",
                "--epochs", "1", 
                "--blr", "2e-4", 
                "--batch_size", "128", 
                "--warmup_epochs",  "4",
                // "--mask_2d", "True",
                "--mask_t_prob", "0.4",
                // "--mask_f_prob", "0.2",
                "--mixup", "0.0",
                "--dataset", "egoexo4d",
                // "--dataset", "wear_ssl",
                "--config", "./configs/IMU-MAE/egoexo4d_accl_omni_ft.yaml",
                "--finetune","./reports/experiments/audio_mae/128x320/egoexo4d/imu_omni/pretrain/mask_ratio{0.9}_mae_vit_base_patch16/accelerator_state",
                // "--config", "./configs/IMU-MAE/spectrograms_wear.yaml",
                "--seconds", "2",
                "--matrix_type", "128x320",
                "--pin_mem",
                "--device", "cuda:1",
                "--log_dir", "./output_dir",
                "--nodes", "1",
                "--gpus_per_node", "2"

            ],
            "console": "integratedTerminal"
        },
        {
            "name": "accelerate linprob - Audio-MAE",
            "type": "debugpy",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "src/dist_ft_accelerate.py",
                "--model", "vit_base_patch16",
                "--epochs", "1", 
                "--blr", "2e-4", 
                "--batch_size", "128", 
                "--warmup_epochs",  "4",
                // "--mask_2d", "True",
                "--mask_t_prob", "0.0",
                // "--mask_f_prob", "0.2",
                "--mixup", "0.0",
                "--label_balance",
                "--dataset", "egoexo4d",
                // "--dataset", "wear_ssl",
                "--config", "./configs/IMU-MAE/egoexo4d_accl_linprob.yaml",
                "--finetune","./reports/experiments/audio_mae/128x320/egoexo4d/pretrain/mask_ratio{0.8}_mae_vit_base_patch16/accelerator_state",
                // "--config", "./configs/IMU-MAE/spectrograms_wear.yaml",
                "--seconds", "2",
                "--matrix_type", "128x320",
                "--pin_mem",
                "--device", "cuda:1",
                // "--log_dir", "./output_dir",
                "--nodes", "1",
                "--gpus_per_node", "2",

            ],
            "console": "integratedTerminal",
        },
        {
            "name": "accelerate linprob omni - Audio-MAE",
            "type": "debugpy",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "src/dist_ft_accelerate.py",
                "--model", "vit_base_patch16",
                "--epochs", "1", 
                "--blr", "0.001", 
                "--batch_size", "256", 
                "--warmup_epochs",  "4",
                // "--mask_2d", "True",
                "--mask_t_prob", "0.6",
                // "--mask_f_prob", "0.2",
                "--mixup", "0.0",
                "--dataset", "egoexo4d",
                // "--dataset", "wear_ssl",
                "--config", "./configs/IMU-MAE/egoexo4d_accl_omni_linprob.yaml",
                "--finetune","./reports/experiments/audio_mae/128x320/egoexo4d/imu_omni/pretrain/mask_ratio{0.6}_mae_vit_base_patch16/accelerator_state",
                // "--config", "./configs/IMU-MAE/spectrograms_wear.yaml",
                "--seconds", "2",
                "--matrix_type", "128x320",
                "--pin_mem",
                "--device", "cuda:1",
                // "--log_dir", "./output_dir",
                "--nodes", "1",
                "--gpus_per_node", "2",
                "--interfuse"
            ],
            "console": "integratedTerminal",
        },
        {
            "name": "AudioMAE finetuning on EPIC",
            "type": "debugpy",
            "request": "launch",
            "args": [
                "--model", "vit_small_patch8",
                "--epochs", "60",
                "--output_dir", "./reports/experiments/audio_mae/epic100_exp/finetune/vit_small_patch8",
                "--log_dir", "./reports/experiments/audio_mae/epic100_exp/finetune/vit_small_patch8",
                "--finetune", "./reports/experiments/audio_mae/epic100_exp/mask_ratio{0.5}_mae_vit_small_patch8/checkpoint-59.pth",
                "--label_pkl", "./data/EgoExo4D/verbs_mapping_keystep.pkl",
                "--blr", "1e-3", 
                "--batch_size", "16", 
                "--warmup_epochs",  "4",
                "--mask_t_prob", "0.2",
                "--mask_f_prob", "0.2",
                "--mixup", "0.5",
                "--nb_classes", "89"
            ],
            "program": "src/audiomae_ft.py",
            "console": "integratedTerminal"
        },
        {
            "name": "AudioMAE finetuning on WEAR",
            "type": "debugpy",
            "request": "launch",
            "args": [
                "--model", "vit_small_patch8",
                "--epochs", "60",
                "--output_dir", "./reports/experiments/audio_mae/wear/finetune/vit_small_patch8",
                "--log_dir", "./reports/experiments/audio_mae/wear/finetune/vit_small_patch8",
                "--finetune", "./reports/experiments/audio_mae/wear/pretrain/mask_ratio{0.5}_mae_vit_small_patch8/checkpoint-59.pth",
                "--blr", "1e-3", 
                "--batch_size", "8", 
                "--warmup_epochs",  "4",
                "--mask_t_prob", "0.2",
                "--mask_f_prob", "0.2",
                "--mixup", "0.5",
                "--nb_classes", "18",
                "--dataset", "wear",
            ],
            "program": "src/audiomae_ft.py",
            "console": "integratedTerminal"
        },
        {
            "name": "AudioMAE embeddings extraction on EPIC",
            "type": "debugpy",
            "request": "launch",
            "args": [
                "--model", "vit_small_patch8", 
                "--finetune", "./reports/experiments/audio_mae/epic100_exp/mask_ratio{0.5}_mae_vit_small_patch8/checkpoint-59.pth",
                "--batch_size", "32",
                "--mask_ratio", "0.5",
                //"--cls_token"
            ],
            "program": "src/feature_embeddings_audiomae.py",
            "console": "integratedTerminal"
        },
        {
            "name": "visualization of feature embeddings",
            "type": "debugpy",
            "request": "launch",
            "program": "src/visualize_embeddings.py",
            "console": "integratedTerminal"
        },
        {
            "name": "WEAR | ActionFormer (following specs)",
            "type": "debugpy",
            "request": "launch",
            "program": "src/subtrees/wear/main.py",
            "args": [
                // "--config", "src/subtrees/wear/configs/120_frames_60_stride/actionformer_combined.yaml",
                // "--config", "src/subtrees/wear/configs/120_frames_60_stride/actionformer_inertial.yaml",
                "--config", "src/subtrees/wear/configs/120_frames_60_stride/actionformer_mae.yaml",
                "--eval_type", "split",
                "--run_id", "actionformer_combiend_120_60",
                "--config_mae", "configs/IMU-MAE/spectrograms_wear.yaml",
                "--finetune", "reports/experiments/audio_mae/wear/pretrain/sec2_split_1/mask_ratio{0.9}_mae_vit_small_patch8/checkpoint-29.pth",
                "--seconds", "2",
                "--matrix_type", "64x64",
            ],
            "console": "integratedTerminal",
        },
        {
            "name": "accelerate - WEAR - ActionFormer inertial",
            "type": "debugpy",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "src/subtrees/wear/main.py",
                // "--dataset", "wear_ssl",
                "--config", "src/subtrees/wear/configs/120_frames_60_stride/actionformer_inertial.yaml",
                // "--config", "./configs/IMU-MAE/spectrograms_wear.yaml",
                "--seconds", "2",
                "--matrix_type", "128x320",
                "--run_id", "actionformer_inertial_120_60",
                "--eval_type", "split",
            ],
            "console": "integratedTerminal"
        },
        {
            "name": "accelerate - WEAR - ActionFormer combined",
            "type": "debugpy",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "src/subtrees/wear/main.py",
                // "--dataset", "wear_ssl",
                "--config", "src/subtrees/wear/configs/120_frames_60_stride/actionformer_combined.yaml",
                // "--config", "./configs/IMU-MAE/spectrograms_wear.yaml",
                "--seconds", "2",
                "--run_id", "actionformer_combined",
                "--eval_type", "split",
                "--seed", "2"
            ],
            "console": "integratedTerminal"
        },
        {
            "name": "accelerate - WEAR - TriDet",
            "type": "debugpy",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "src/subtrees/wear/main.py",
                // "--dataset", "wear_ssl",
                "--config", "src/subtrees/wear/configs/120_frames_60_stride/tridet_inertial.yaml",
                // "--config", "./configs/IMU-MAE/spectrograms_wear.yaml",
                "--seconds", "2",
                "--matrix_type", "128x320",
                "--run_id", "tridet_inertial_120_60",
                "--eval_type", "split",
            ],
            "console": "integratedTerminal"
        },
        {
            "name": "accelerate - WEAR - ActionFormer inertial + ViT",
            "type": "debugpy",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "src/subtrees/wear/main.py",
                // "--dataset", "wear_ssl",
                "--config", "src/subtrees/wear/configs/120_frames_60_stride/actionformer_inertial.yaml",
                "--config_mae", "./configs/IMU-MAE/wear_inertial_ft.yaml",
                "--seconds", "2",
                "--matrix_type", "128x320",
                "--run_id", "actionformer_inertial_vit",
                "--eval_type", "split",
                "--batch_size", "256",
                "--mask_t_prob", "0.3",
                "--mask_f_prob", "0.3",
            ],
            "console": "integratedTerminal"
        },
        {
            "name": "accelerate pt - WEAR",
            "type": "debugpy",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "src/dist_pretrain_accelerate.py",
                "--model", "mae_vit_base_patch16",
                "--epochs", "1", 
                "--blr", "2e-4", 
                "--batch_size", "32", 
                "--warmup_epochs",  "3",
                "--mask_ratio", "0.9",
                "--dataset", "wear_ssl",
                // "--dataset", "wear_ssl",
                "--config", "./configs/IMU-MAE/WEAR/split_1/wear_inertial_pt.yaml",
                "--resume", "./reports/experiments/audio_mae/128x320/egoexo4d/imu_omni/pretrain/mask_ratio{0.9}_mae_vit_base_patch16/accelerator_state",
                // "--config", "./configs/IMU-MAE/spectrograms_wear.yaml",
                "--seconds", "2",
                "--matrix_type", "128x320",
                "--pin_mem",
                "--device", "cuda:1",
                // "--log_dir", "./reports/experiments/audio_mae/128x320/wear/split_1",
                // "--output_dir", "./reports/experiments/audio_mae/128x320/wear/split_1",
                "--split", "1",
                "--nodes", "1",
                "--gpus_per_node", "2",
            ],
            "console": "integratedTerminal",
            "justMyCode": false
        },
        {
            "name": "extract feats mae - WEAR",
            "type": "debugpy",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "src/subtrees/wear/extract_feats_mae.py",
                // "--dataset", "wear_ssl",
                "--config", "src/subtrees/wear/configs/120_frames_60_stride/actionformer_combined.yaml",
                "--config_mae", "./configs/IMU-MAE/WEAR/split_1/wear_combined_pt.yaml",
                "--finetune", "reports/experiments/audio_mae/128x320/wear_ssl/2d/imu_i3d/split_1/mask_ratio{0.9}_mae_vit_base_patch16/accelerator_state",
                // "--config", "./configs/IMU-MAE/spectrograms_wear.yaml",
                "--seconds", "2",
                "--matrix_type", "128x320",
                "--eval_type", "split",
                "--device", "cuda:1",
                "--mask_ratio", "0.9",
                "--split", "1",
                "--imu_i3d",
                // "--fromscratch",
                "--combined_to_inertial"
                // "--inertial_to_combined"
            ],
            "console": "integratedTerminal",
        },
        {
            "name": "accelerate - WEAR - ActionFormer inertial pre-extracted feats",
            "type": "debugpy",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "src/subtrees/wear/main.py",
                // "--dataset", "wear_ssl",
                "--config", "src/subtrees/wear/configs/120_frames_60_stride/actionformer_inertial_mae.yaml",
                // "--config", "./configs/IMU-MAE/spectrograms_wear.yaml",
                "--seconds", "2",
                "--matrix_type", "128x320",
                "--run_id", "actionformer_inertial_120_60",
                "--eval_type", "split",
                "--mask_ratio", "0.0",
            ],
            "console": "integratedTerminal"
        },
        {
            "name": "accelerate - WEAR - ActionFormer combined MAE with I3D",
            "type": "debugpy",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "src/subtrees/wear/main.py",
                // "--dataset", "wear_ssl",
                "--config", "src/subtrees/wear/configs/120_frames_60_stride/actionformer_combined_mae_i3d_pt.yaml",
                // "--config", "./configs/IMU-MAE/spectrograms_wear.yaml",
                "--seconds", "2",
                "--run_id", "actionformer_combined_mae_i3d_pt",
                "--eval_type", "split",
                "--seed", "2"
            ],
            "console": "integratedTerminal"
        },
        {
            "name": "accelerate pt - Audio-MAE - EVAL",
            "type": "debugpy",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "src/dist_pretrain_accelerate.py",
                "--model", "mae_vit_small_patch16",
                "--epochs", "1", 
                "--blr", "2e-4", 
                "--batch_size", "128", 
                "--warmup_epochs",  "3",
                "--mask_ratio", "0.9",
                "--dataset", "egoexo4d",
                // "--dataset", "wear_ssl",
                "--config", "./configs/IMU-MAE/egoexo4d_accl_omni_pt.yaml",
                // "--config", "./configs/IMU-MAE/spectrograms_wear.yaml",
                "--seconds", "2",
                "--matrix_type", "128x320",
                "--pin_mem",
                "--device", "cuda:1",
                "--log_dir", "./output_dir",
                "--nodes", "1",
                "--gpus_per_node", "2",
                "--resume", "./reports/experiments/audio_mae/128x320/egoexo4d/imu_omni/pretrain/mask_ratio{0.9}_mae_vit_base_patch16/accelerator_state"
            ],
            "console": "integratedTerminal"
        },
        {
            "name": "visualization - WEAR",
            "type": "debugpy",
            "request": "launch",
            "program": "src/subtrees/wear/postprocessing/lineplot_score_thresh.py",
            "console": "integratedTerminal",
            "args": [
                "--model", "actionformer",
                "--experiment_name", "inertial",
                "--metric", "avg_mAP",
                "--experiment_type", "inertial inertial_mae_10epochs inertial_mae_i3d_pt inertial_mae_scratch_fixed"
            ]
        },
    ]
}